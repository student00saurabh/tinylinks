<nav class="bg-white shadow-md sticky top-0 z-50">
  <div class="container mx-auto px-4 py-3 flex items-center justify-between">
    
    <!-- Logo -->
    <a href="/" class="flex items-center">
      <img src="/images/logo.png" alt="TinyLinks" class="w-36 h-14 object-contain">
    </a>

    <!-- Desktop Links -->
    <div class="hidden md:flex items-center space-x-6">
      <a href="/" class="text-gray-700 hover:text-green-500 font-medium transition duration-200">Home</a>
      
      <% if(currUser) { %>
        <a href="/healthcheck" class="text-gray-700 hover:text-green-500 font-medium transition duration-200">Check Health</a>
        <a href="/stats" class="text-gray-700 hover:text-green-500 font-medium transition duration-200">Dashboard</a>
        <a href="/profile" class="text-gray-700 hover:text-green-500 font-medium transition duration-200">Profile</a>
        
      <% } else { %>
        <a href="/signup" class="text-gray-700 hover:text-green-500 font-medium transition duration-200">Signup</a>
        <a href="/login" class="text-gray-700 hover:text-green-500 font-medium transition duration-200">Login</a>
      <% } %>
    </div>

    <!-- Mobile Menu Button -->
    <div class="md:hidden">
      <button id="mobile-menu-button" class="text-gray-700 focus:outline-none">
        <i class="fa-solid fa-bars fa-lg"></i>
      </button>
    </div>
  </div>

  <!-- Mobile Sidebar -->
  <div id="mobile-menu" class="fixed top-0 right-0 h-full w-64 bg-white shadow-lg transform translate-x-full transition-transform duration-300 z-50 md:hidden">
    <div class="flex justify-between items-center px-4 py-4 border-b">
      <h3 class="text-xl font-semibold text-gray-700">Menu</h3>
      <button id="mobile-menu-close" class="text-gray-700 focus:outline-none">
        <i class="fa-solid fa-xmark fa-lg"></i>
      </button>
    </div>
    <div class="flex flex-col px-4 py-6 space-y-4">
      <a href="/" class="text-gray-700 hover:text-green-500 font-medium transition duration-200">Home</a>
      <a href="/healthz" class="text-gray-700 hover:text-green-500 font-medium transition duration-200">Check Health</a>
      
      <% if(currUser) { %>
        <a href="/stats" class="text-gray-700 hover:text-green-500 font-medium transition duration-200">Dashboard</a>
        <a href="/profile" class="text-gray-700 hover:text-green-500 font-medium transition duration-200">Profile</a>
          <a href="/logout" class="text-red-600 hover:text-red-800 font-medium transition duration-200">Logout</a>
      <% } else { %>
        <a href="/signup" class="text-gray-700 hover:text-green-500 font-medium transition duration-200">Signup</a>
        <a href="/login" class="text-gray-700 hover:text-green-500 font-medium transition duration-200">Login</a>
      <% } %>
    </div>
  </div>
</nav>

<script>
const mobileMenu = document.getElementById("mobile-menu");
const openBtn = document.getElementById("mobile-menu-button");
const closeBtn = document.getElementById("mobile-menu-close");

openBtn.addEventListener("click", () => {
  mobileMenu.classList.remove("translate-x-full");
  mobileMenu.classList.add("translate-x-0");
});

closeBtn.addEventListener("click", () => {
  mobileMenu.classList.remove("translate-x-0");
  mobileMenu.classList.add("translate-x-full");
});
</script>
